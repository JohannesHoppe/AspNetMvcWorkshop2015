

<div id="chat_template">

    <h1> SignalR Chat</h1>

    <label class="col-sm-2 control-label">Name</label>
    <input type="text" class="form-control" data-bind="txtInput:name ">

    <label class="col-sm-2 control-label">Message</label>
    <input type="text" class="form-control" data-bind="txtInput:message ">

    <button data-bind="click: SendMessage" id="test" class="btn btn-warning btn-lg">SEND </button>

    <div data-bind="foreach: messages">
        
        <label class="col-sm-2 control-label">From</label>
        <input type="text" class="form-control" data-bind="value:name ">

        <label class="col-sm-2 control-label">Received Message</label>
        <input type="text" class="form-control" data-bind="value:message ">

    </div>   


</div>

<div id="index_template">

    <h1 data-bind="text: header">Kunden</h1>

<!-- <input type="text" data-bind="textInput: header"/>

<button data-bind="click: setColor">KlickMich</button>

-->


<div>

    <div data-bind="foreach: customers">


        <div class="panel panel-default pull-left col-md-5 " style="padding: 0; margin-right: 20px;">

            <img data-bind="attr:{ src: $root.image($data)  }" class="img-thumbnail pull-right" />
            <div class="panel-heading" data-bind="text: FirstName"></div>
            <div class="panel-body">

                <form class="form-horizontal">

                    <div class="form-group">

                        <label class="col-sm-2 control-label">#</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" data-bind="value:Id">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-2 control-label">FirstName</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" data-bind="value:FirstName">
                        </div>
                    </div>


                    <div class="form-group">

                        <label class="col-sm-2 control-label">LastName</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" data-bind="value:LastName">
                        </div>

                    </div>

                </form>
            </div>
        </div>
    </div>
</div>

    <br style="clear: both;">



</div>

@section scripts
{
    <script>
        var model = new CustomerViewModel();
        ko.applyBindings(model, $('#index_template').get(0));
        model.loadData();

        var chatModel = new ChatViewModel();
        ko.applyBindings(chatModel, $('#chat_template').get(0));

        var chatHub = $.connection.chatHub;
        $.connection.hub.start().done(function() {
            console.log("hubs gestartet");

            chatHub.server.send("hallo", "welt");
        });

        debugger;
        chatHub.client.broadcastMessage = function(name, message) {
            console.log(name, message);
        }

    </script>

}

